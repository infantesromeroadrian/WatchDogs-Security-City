# ============================================================================
# WatchDogs Security City - Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git (already in .gitignore)
# ============================================================================

# ============================================================================
# OPENAI CONFIGURATION (REQUIRED)
# ============================================================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================================================
# FLASK CONFIGURATION
# ============================================================================
FLASK_ENV=development
FLASK_DEBUG=True
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# ============================================================================
# VIDEO CONFIGURATION
# ============================================================================
# Maximum video size in MB
MAX_VIDEO_SIZE_MB=100

# How long to keep uploaded videos (in hours) before auto-cleanup
VIDEO_RETENTION_HOURS=1

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# Allowed origins for CORS (comma-separated)
# Example: http://localhost:5000,http://localhost:3000,https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:5000

# Rate limiting (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=30

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================
# Timeout per agent in seconds
AGENT_TIMEOUT_SECONDS=30

# Retry configuration for failed agent calls
AGENT_RETRY_MAX_ATTEMPTS=3
AGENT_RETRY_MIN_WAIT=2.0
AGENT_RETRY_MAX_WAIT=10.0

# ============================================================================
# CACHING CONFIGURATION
# ============================================================================
# Enable caching of agent results (saves API costs for repeated images)
CACHE_ENABLED=True

# Cache time-to-live in seconds (3600 = 1 hour)
CACHE_TTL_SECONDS=3600

# ============================================================================
# CIRCUIT BREAKER CONFIGURATION
# ============================================================================
# Enable circuit breaker pattern (protects against cascading failures)
CIRCUIT_BREAKER_ENABLED=True

# Number of consecutive failures before opening circuit
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5

# Seconds to wait before attempting recovery
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60.0

# ============================================================================
# METRICS CONFIGURATION
# ============================================================================
# Enable metrics collection (latency, success rate, etc.)
METRICS_ENABLED=True

# ============================================================================
# DEVELOPMENT / PRODUCTION SETTINGS
# ============================================================================
# For production, use these settings:
# FLASK_ENV=production
# FLASK_DEBUG=False
# FLASK_HOST=0.0.0.0
# ALLOWED_ORIGINS=https://your-production-domain.com
# RATE_LIMIT_PER_MINUTE=10  # Stricter in production
# CACHE_ENABLED=True
# METRICS_ENABLED=True

# ============================================================================
# OPTIONAL: ADVANCED CONFIGURATION
# ============================================================================
# Uncomment and modify if needed

# Path for temporary video storage (default: data/temp)
# TEMP_VIDEO_PATH=data/temp

# OpenAI model configuration (default values already set in config.py)
# OPENAI_MODEL=gpt-5.1
# OPENAI_MAX_TOKENS=3000
# OPENAI_TEMPERATURE=0.3

# ============================================================================
# NOTES
# ============================================================================
# 1. OPENAI_API_KEY is REQUIRED - the system will not start without it
# 2. For local development, default values are fine
# 3. For production:
#    - Set FLASK_DEBUG=False
#    - Set FLASK_ENV=production
#    - Configure proper ALLOWED_ORIGINS
#    - Consider stricter RATE_LIMIT_PER_MINUTE
#    - Enable CACHE_ENABLED and METRICS_ENABLED
# 4. Cost estimation:
#    - ~$0.01-0.03 per image analysis
#    - Cache reduces costs for repeated images
#    - Monitor usage at https://platform.openai.com/usage
# ============================================================================
