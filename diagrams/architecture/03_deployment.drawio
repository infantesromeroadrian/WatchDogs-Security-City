<mxfile host="app.diagrams.net">
  <diagram name="Deployment" id="deployment">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- User -->
        <mxCell id="user" value="User&#xa;(Browser)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="40" y="200" width="30" height="60" as="geometry" />
        </mxCell>
        
        <!-- Docker Container -->
        <mxCell id="docker" value="Docker Container&#xa;(watchdogs:latest)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="140" y="100" width="200" height="400" as="geometry" />
        </mxCell>
        
        <!-- Flask App -->
        <mxCell id="flask" value="Flask App&#xa;Port 5000&#xa;Non-root user" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="160" y="140" width="160" height="60" as="geometry" />
        </mxCell>
        
        <!-- Frontend -->
        <mxCell id="frontend" value="Frontend&#xa;(Static Files)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="160" y="220" width="160" height="40" as="geometry" />
        </mxCell>
        
        <!-- Agents -->
        <mxCell id="agents" value="Agents&#xa;(LangGraph)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="160" y="280" width="160" height="40" as="geometry" />
        </mxCell>
        
        <!-- Services -->
        <mxCell id="services" value="Services&#xa;(Image/Video)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="160" y="340" width="160" height="40" as="geometry" />
        </mxCell>
        
        <!-- Volume -->
        <mxCell id="volume" value="Volume&#xa;data/temp/&#xa;(Persistent)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="160" y="400" width="160" height="60" as="geometry" />
        </mxCell>
        
        <!-- External -->
        <mxCell id="openai" value="OpenAI API&#xa;(External)" style="shape=cloud;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="400" y="200" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- Environment -->
        <mxCell id="env" value="Environment Variables&#xa;.env file&#xa;(Secrets)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="320" width="160" height="60" as="geometry" />
        </mxCell>
        
        <!-- Monitoring -->
        <mxCell id="monitoring" value="Logs&#xa;(stdout/stderr)&#xa;Docker Logs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="400" y="420" width="160" height="60" as="geometry" />
        </mxCell>
        
        <!-- Arrows -->
        <mxCell id="a1" value="HTTP" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="user" target="flask">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="70" y="230" as="sourcePoint" />
            <mxPoint x="160" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="a2" value="API Calls" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="1" source="agents" target="openai">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="300" as="sourcePoint" />
            <mxPoint x="400" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="a3" value="Read/Write" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="services" target="volume">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="360" as="sourcePoint" />
            <mxPoint x="160" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="a4" value="Config" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;entryX=0;entryY=0.5;dashed=1;" edge="1" parent="1" source="flask" target="env">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="320" y="170" as="sourcePoint" />
            <mxPoint x="400" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="a5" value="Logs" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;entryX=0;entryY=0.5;dashed=1;" edge="1" parent="1" source="docker" target="monitoring">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="340" y="500" as="sourcePoint" />
            <mxPoint x="400" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

